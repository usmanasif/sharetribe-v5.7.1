.container
  .header-content
    / .col-md-2.col-sm-2.col-xs-12.header-p-5
    /   %a.logo{:href => root_path } VendorAdvisor
    .col-md-1.col-sm-1.col-xs-1.header-p-5
      .dropdown.dorpdown-shop
        %button#dropdownMenu1.btn.btn-default.dropdown-toggle.btn-shop{"aria-expanded" => "true", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
          = @current_community.name(I18n.locale)
          %span.caret
        %ul.dropdown-menu.row{"aria-labelledby" => "dropdownMenu1"}
          -@main_categories.each do |category|
            %li.col-md-4.col-sm-4.col-xs-4
              %a{:href => "#"} #{category.display_name(I18n.locale)}
              -sub_categories = @categories.select { |c| c.parent_id == category.id }
              -if sub_categories
                %ul.dropdown-child
                  -sub_categories.each do |sub_category|
                    %li
                      %a{:href => "#"} #{sub_category.display_name(I18n.locale)}
    .col-md-10.col-sm-10.col-xs-10.header-p-5
      %form.form-inline.search-form.search-result{:action => "#{homepage_index_path}" , :method => "get"}
        .input-group.col-sm-10
          %input.form-control{:name => "q", :placeholder => "Search", :type => "text", :value => ""}
            .input-group-btn.select-drop-head
              .search-form-input.categorices-select.btn.btn-default.dropdown-toggle
                %span.caret.caret-icon
                = select_tag(:category,  options_from_collection_for_select(@main_categories, :url, "category_name" ) , class: 'categor-dropdown' , include_blank: "All Categories")
              / /btn-group
        %button.input-group.btn.btn-primary.col-sm-2{:type => "submit"} Search
    .col-md-1.col-sm-1.col-xs-1.header-p-0
      %a.advanced{:href => "#"} Advanced
  .navarea
    %nav.navbar.navbar-default.row
      .container-fluid
        / Brand and toggle get grouped for better mobile display
        .navbar-header.row
          %button.navbar-toggle.collapsed{"aria-expanded" => "false", "data-target" => "#bs-example-navbar-collapse-1", "data-toggle" => "collapse", :type => "button"}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
        / Collect the nav links, forms, and other content for toggling
        #bs-example-navbar-collapse-1.collapse.navbar-collapse
          %ul.nav.navbar-nav
            %li
              %a{:href => "#"} Guest Supplies
            %li
              %a{:href => "#"} Restaurant Equipment
            %li
              %a{:href => "#"} FF&E
            %li
              %a{:href => "#"} Cleaning Supplies
            %li
              %a{:href => "#"} Building Materials

        / /.navbar-collapse
      / /.container-fluid
    / Banner
.container
  .banner
    .row
      .col-md-4.col-sm-4.col-xs-12.slider
        #carousel-example-generic.carousel.slide{"data-ride" => "carousel"}
          / Indicators
          %ol.carousel-indicators
            %li.active{"data-slide-to" => "0", "data-target" => "#carousel-example-generic"}
            %li{"data-slide-to" => "1", "data-target" => "#carousel-example-generic"}
            %li{"data-slide-to" => "2", "data-target" => "#carousel-example-generic"}
          / Wrapper for slides
          .carousel-inner{:role => "listbox"}
            -if @first_slider_images.present?
              -@first_slider_images.each_with_index do |image , i|
                -if i == 0
                  .item.active
                    %img.img-responsive{:alt => "...", :src => asset_path(image.image.url(:original))}
                -else
                  .item
                    %img.img-responsive{:alt => "...", :src => asset_path(image.image.url(:original))}
            -else
              .item.active
                %img.img-responsive{:alt => "...", :src => asset_path('index/No_image_available.png')}
              .item
                %img.img-responsive{:alt => "...", :src => asset_path('index/No_image_available.png')}
          / Controls
          %a.left.carousel-control{"data-slide" => "prev", :href => "#carousel-example-generic", :role => "button"}
            %span.glyphicon.glyphicon-chevron-left{"aria-hidden" => "true"}
            %span.sr-only Previous
          %a.right.carousel-control{"data-slide" => "next", :href => "#carousel-example-generic", :role => "button"}
            %span.glyphicon.glyphicon-chevron-right{"aria-hidden" => "true"}
            %span.sr-only Next
      .col-md-4.col-sm-4.col-xs-12.slider
        #carousel-example-generic1.carousel.slide{"data-ride" => "carousel"}
          / Indicators
          %ol.carousel-indicators
            %li.active{"data-slide-to" => "0", "data-target" => "#carousel-example-generic1"}
            %li{"data-slide-to" => "1", "data-target" => "#carousel-example-generic1"}
            %li{"data-slide-to" => "2", "data-target" => "#carousel-example-generic1"}
          / Wrapper for slides
          .carousel-inner{:role => "listbox"}
            -if @second_slider_images.present?
              -@second_slider_images.each_with_index do |image , i|
                -if i == 0
                  .item.active
                    %img.img-responsive{:alt => "...", :src => asset_path(image.image.url(:original))}
                -else
                  .item
                    %img.img-responsive{:alt => "...", :src => asset_path(image.image.url(:original))}
            -if !@second_slider_images.present?
              .item.active
                %img.img-responsive{:alt => "...", :src => asset_path('index/No_image_available.png')}
              .item
                %img.img-responsive{:alt => "...", :src => asset_path('index/No_image_available.png')}
          / Controls
          %a.left.carousel-control{"data-slide" => "prev", :href => "#carousel-example-generic1", :role => "button"}
            %span.glyphicon.glyphicon-chevron-left{"aria-hidden" => "true"}
            %span.sr-only Previous
          %a.right.carousel-control{"data-slide" => "next", :href => "#carousel-example-generic1", :role => "button"}
            %span.glyphicon.glyphicon-chevron-right{"aria-hidden" => "true"}
            %span.sr-only Next
      .col-md-4.col-sm-4.col-xs-12.slider
        #carousel-example-generic2.carousel.slide{"data-ride" => "carousel"}
          / Indicators
          %ol.carousel-indicators
            %li.active{"data-slide-to" => "0", "data-target" => "#carousel-example-generic2"}
            %li{"data-slide-to" => "1", "data-target" => "#carousel-example-generic2"}
            %li{"data-slide-to" => "2", "data-target" => "#carousel-example-generic2"}
          / Wrapper for slides
          .carousel-inner{:role => "listbox"}
            -if @third_slider_images.present?
              -@third_slider_images.each_with_index do |image , i|
                -if i == 0
                  .item.active
                    %img.img-responsive{:alt => "...", :src => asset_path(image.image.url(:original))}
                -else
                  .item
                    %img.img-responsive{:alt => "...", :src => asset_path(image.image.url(:original))}
            -if !@third_slider_images.present?
              .item.active
                %img.img-responsive{:alt => "...", :src => asset_path('index/No_image_available.png')}
              .item
                %img.img-responsive{:alt => "...", :src => asset_path('index/No_image_available.png')}
          / Controls
          %a.left.carousel-control{"data-slide" => "prev", :href => "#carousel-example-generic2", :role => "button"}
            %span.glyphicon.glyphicon-chevron-left{"aria-hidden" => "true"}
            %span.sr-only Previous
          %a.right.carousel-control{"data-slide" => "next", :href => "#carousel-example-generic2", :role => "button"}
            %span.glyphicon.glyphicon-chevron-right{"aria-hidden" => "true"}
            %span.sr-only Next

  / Products
  .container.featured-area
    .col-md-12
      .row
        %h2 Today's Featured Collections
        - @listings.try(:each) do |listing|
          -if is_featured(listing.id)
            - list = get_image_url(listing)
            .col-md-6.col-sm-12.col-xs-12
              .col-md-12.col-sm-12.col-xs-12
                .row
                  .col-md-9.col-sm-9.col-xs-9.padding-0
                    %a{:href => listing_path(set_path(listing.id))}
                      %img.img-responsive.img-featured{:alt => "", :src => list.first}/
                  .col-md-3.col-sm-3.col-xs-3.padding-0
                    %ul.featured-list
                      - if list.second
                        %li
                          %a{:href => listing_path(set_path(listing.id)) }
                            %img.img-responsive{:alt => "", :src => list.second}/
                      -if list.third
                        %li
                          %a{:href => listing_path(set_path(listing.id))}
                            %img.img-responsive{:alt => "", :src => list.third}/
                      - if list.fourth
                        %li
                          %a{:href => listing_path(set_path(listing.id))}
                            %img.img-responsive{:alt => "", :src => list.fourth}/
              .col-md-12.col-sm-12.col-xs-12
                .row
                  .padding-left-0.col-md-9.col-sm-9.col-xs-9
                    %a.title{:href => listing_path(set_path(listing.id)) } #{listing.title}
                    .featured-textarea
                      %p #{ listing.description}

                  .padding-right-0.col-md-3.col-sm-3.col-xs-3
                    %ul.details
                      %li
                        - if listing.author
                          %a{:href => person_path(listing.author.username)} #{listing.author.username}
                      %li US #{listing.price}$
                      %li
                        %a{:href => listing_path(set_path(listing.id)) } Show now

/ - @listings.each do |listing|
/   = render :partial => "layouts/grid_item_listing_image", :locals => {:listing => listing, :modifier_class => ""}
/   = listing.inspect

